{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/surya/Desktop/customer/kazilen/frontend/src/app/components/history/StarRating.js"],"sourcesContent":["\"use client\";\r\n\r\nexport default function StarRating({ value = 0, onChange }) {\r\n  // value: 0..5\r\n  const handle = (n) => onChange?.(n);\r\n\r\n  return (\r\n    <div className=\"flex items-center gap-1\">\r\n      {[1, 2, 3, 4, 5].map((n) => (\r\n        <button\r\n          key={n}\r\n          aria-label={`Rate ${n}`}\r\n          onClick={() => handle(n)}\r\n          className=\"p-1\"\r\n        >\r\n          <Star filled={n <= value} size={20} />\r\n        </button>\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction Star({ filled, size = 20 }) {\r\n  // simple inline svg to support filled/outline\r\n  return filled ? (\r\n    <svg width={size} height={size} viewBox=\"0 0 24 24\" className=\"text-yellow-500\">\r\n      <path\r\n        d=\"M12 17.27 18.18 21l-1.64-7.03L22 9.24l-7.19-.62L12 2 9.19 8.62 2 9.24l5.46 4.73L5.82 21z\"\r\n        fill=\"currentColor\"\r\n      />\r\n    </svg>\r\n  ) : (\r\n    <svg width={size} height={size} viewBox=\"0 0 24 24\" className=\"text-gray-400\">\r\n      <path\r\n        d=\"M22 9.24l-7.19-.62L12 2 9.19 8.62 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.64-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28L5.5 10.5l4.38-.38L12 6.1l2.12 4.02 4.38.38-3.74 3.39 1 4.28L12 15.4z\"\r\n        fill=\"currentColor\"\r\n      />\r\n    </svg>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;;AAEe,SAAS,WAAW,EAAE,QAAQ,CAAC,EAAE,QAAQ,EAAE;IACxD,cAAc;IACd,MAAM,SAAS,CAAC,IAAM,WAAW;IAEjC,qBACE,6LAAC;QAAI,WAAU;kBACZ;YAAC;YAAG;YAAG;YAAG;YAAG;SAAE,CAAC,GAAG,CAAC,CAAC,kBACpB,6LAAC;gBAEC,cAAY,CAAC,KAAK,EAAE,GAAG;gBACvB,SAAS,IAAM,OAAO;gBACtB,WAAU;0BAEV,cAAA,6LAAC;oBAAK,QAAQ,KAAK;oBAAO,MAAM;;;;;;eAL3B;;;;;;;;;;AAUf;KAlBwB;AAoBxB,SAAS,KAAK,EAAE,MAAM,EAAE,OAAO,EAAE,EAAE;IACjC,8CAA8C;IAC9C,OAAO,uBACL,6LAAC;QAAI,OAAO;QAAM,QAAQ;QAAM,SAAQ;QAAY,WAAU;kBAC5D,cAAA,6LAAC;YACC,GAAE;YACF,MAAK;;;;;;;;;;6BAIT,6LAAC;QAAI,OAAO;QAAM,QAAQ;QAAM,SAAQ;QAAY,WAAU;kBAC5D,cAAA,6LAAC;YACC,GAAE;YACF,MAAK;;;;;;;;;;;AAIb;MAjBS","debugId":null}},
    {"offset": {"line": 99, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/surya/Desktop/customer/kazilen/frontend/src/app/history/page.js"],"sourcesContent":["'use client'\r\n\r\nimport Link from 'next/link'\r\nimport Image from 'next/image'\r\nimport { useMemo, useState } from 'react'\r\nimport { MoreVertical } from 'lucide-react'\r\nimport StarRating from '../components/history/StarRating'\r\n\r\n\r\nexport default function HistoryItemCard({ order, onChange }) {\r\n  // Destructure with safe fallbacks so we never read from undefined\r\n  const {\r\n    restaurantName = '',\r\n    locality = '',\r\n    image = '/placeholder.png',\r\n    summary = '',\r\n    placedAt = '',\r\n    status = '',\r\n    amount = 0,\r\n    rating = 0,\r\n    feedback = '',\r\n  } = order || {}\r\n\r\n  const [menuOpen, setMenuOpen] = useState(false)\r\n  const [showFeedback, setShowFeedback] = useState(false)\r\n  const [feedbackText, setFeedbackText] = useState(feedback)\r\n\r\n  const slug = useMemo(\r\n    () => (restaurantName ? restaurantName.toLowerCase().replace(/\\s+/g, '-') : ''),\r\n    [restaurantName]\r\n  )\r\n\r\n  const placedOn = useMemo(() => {\r\n    if (!placedAt) return ''\r\n    const d = new Date(placedAt)\r\n    const date = d.toLocaleDateString(undefined, { day: '2-digit', month: 'short' })\r\n    const time = d.toLocaleTimeString(undefined, { hour: 'numeric', minute: '2-digit' })\r\n    return `${date}, ${time}`\r\n  }, [placedAt])\r\n\r\n  const handleRate = (stars) => {\r\n    alert(`Rated ${stars} stars`)\r\n    onChange?.()\r\n  }\r\n\r\n  const handleReorder = () => {\r\n    alert('✅ Reorder placed!')\r\n  }\r\n\r\n  const handleDelete = () => {\r\n    if (confirm('Delete this order from history?')) {\r\n      alert('Order deleted!')\r\n      onChange?.()\r\n    }\r\n  }\r\n\r\n  const saveFeedback = () => {\r\n    alert(`Feedback saved: ${feedbackText}`)\r\n    setShowFeedback(false)\r\n    onChange?.()\r\n  }\r\n\r\n  return (\r\n    <div className=\"relative rounded-2xl bg-white shadow-sm border border-gray-200 p-3\">\r\n      {/* Top row */}\r\n      <div className=\"flex gap-3\">\r\n        <div className=\"w-20 h-16 rounded bg-gray-200 overflow-hidden shrink-0\">\r\n          <Image\r\n            src={image}\r\n            alt={restaurantName || 'Restaurant'}\r\n            width={80}\r\n            height={64}\r\n            className=\"w-full h-full object-cover\"\r\n          />\r\n        </div>\r\n\r\n        <div className=\"flex-1\">\r\n          <div className=\"flex items-start justify-between\">\r\n            <div>\r\n              <p className=\"font-semibold text-[16px] leading-5\">\r\n                {restaurantName || '—'}\r\n              </p>\r\n              <p className=\"text-sm text-gray-600 -mt-0.5\">{locality}</p>\r\n              {slug && (\r\n                <Link href={`/restaurant/${slug}`} className=\"text-sm text-red-600 font-medium\">\r\n                  View menu ▸\r\n                </Link>\r\n              )}\r\n            </div>\r\n\r\n            <div className=\"relative\">\r\n              <button\r\n                aria-label=\"More\"\r\n                onClick={() => setMenuOpen((v) => !v)}\r\n                className=\"p-2\"\r\n              >\r\n                <MoreVertical />\r\n              </button>\r\n\r\n              {menuOpen && (\r\n                <div\r\n                  className=\"absolute right-0 mt-2 w-40 rounded-xl border bg-white shadow-md z-20\"\r\n                  onMouseLeave={() => setMenuOpen(false)}\r\n                >\r\n                  <button\r\n                    className=\"block w-full text-left px-3 py-2 text-sm hover:bg-gray-50\"\r\n                    onClick={() => alert('Order details…')}\r\n                  >\r\n                    View order details\r\n                  </button>\r\n                  <button\r\n                    className=\"block w-full text-left px-3 py-2 text-sm text-red-600 hover:bg-red-50\"\r\n                    onClick={handleDelete}\r\n                  >\r\n                    Delete order\r\n                  </button>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Items summary */}\r\n      {summary && <div className=\"mt-3 text-[15px] text-gray-800\">{summary}</div>}\r\n\r\n      {/* Placed on + amount */}\r\n      <div className=\"mt-3 flex items-start justify-between text-sm text-gray-700\">\r\n        <div>\r\n          {placedOn && <div>Order placed on {placedOn}</div>}\r\n          {status && <div className=\"text-gray-600\">{status}</div>}\r\n        </div>\r\n        <div className=\"font-semibold\">₹{Number(amount || 0).toFixed(2)}</div>\r\n      </div>\r\n\r\n      {/* Rating / Feedback + Reorder */}\r\n      <div className=\"mt-3 flex items-center justify-between\">\r\n        <div className=\"min-w-0\">\r\n          {typeof rating === 'number' && rating > 0 ? (\r\n            <>\r\n              <div className=\"text-[15px] font-semibold\">\r\n                You rated {rating} ★\r\n              </div>\r\n              <button\r\n                className=\"mt-1 text-sm text-red-600 font-medium\"\r\n                onClick={() => setShowFeedback(true)}\r\n              >\r\n                View your feedback ▸\r\n              </button>\r\n            </>\r\n          ) : (\r\n            <div>\r\n              <StarRating value={rating || 0} onChange={handleRate} />\r\n              <button\r\n                className=\"mt-1 text-sm text-red-600 font-medium\"\r\n                onClick={() => setShowFeedback(true)}\r\n              >\r\n                Give feedback ▸\r\n              </button>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        <button\r\n          onClick={handleReorder}\r\n          className=\"shrink-0 rounded-xl bg-yellow-400 hover:bg-yellow-500 text-black px-4 py-2 font-semibold\"\r\n        >\r\n          Order again\r\n        </button>\r\n      </div>\r\n\r\n      {/* Feedback modal */}\r\n      {showFeedback && (\r\n        <div className=\"fixed inset-0 z-30 flex items-end sm:items-center justify-center\">\r\n          <div\r\n            className=\"absolute inset-0 bg-black/40\"\r\n            onClick={() => setShowFeedback(false)}\r\n          />\r\n          <div className=\"relative w-full sm:w-[420px] bg-white rounded-t-2xl sm:rounded-2xl p-4\">\r\n            <h3 className=\"text-base font-semibold\">\r\n              {feedback ? 'Your feedback' : 'Write feedback'}\r\n            </h3>\r\n            <textarea\r\n              className=\"mt-2 w-full h-28 rounded-xl border p-3 text-sm\"\r\n              placeholder=\"Share your experience…\"\r\n              value={feedbackText}\r\n              onChange={(e) => setFeedbackText(e.target.value)}\r\n            />\r\n            <div className=\"mt-3 flex justify-end gap-2\">\r\n              <button\r\n                className=\"px-4 py-2 rounded-xl border\"\r\n                onClick={() => setShowFeedback(false)}\r\n              >\r\n                Close\r\n              </button>\r\n              <button\r\n                className=\"px-4 py-2 rounded-xl bg-black text-white\"\r\n                onClick={saveFeedback}\r\n              >\r\n                Save\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AACA;AACA;;;AANA;;;;;;AASe,SAAS,gBAAgB,EAAE,KAAK,EAAE,QAAQ,EAAE;;IACzD,kEAAkE;IAClE,MAAM,EACJ,iBAAiB,EAAE,EACnB,WAAW,EAAE,EACb,QAAQ,kBAAkB,EAC1B,UAAU,EAAE,EACZ,WAAW,EAAE,EACb,SAAS,EAAE,EACX,SAAS,CAAC,EACV,SAAS,CAAC,EACV,WAAW,EAAE,EACd,GAAG,SAAS,CAAC;IAEd,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACzC,MAAM,CAAC,cAAc,gBAAgB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACjD,MAAM,CAAC,cAAc,gBAAgB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAEjD,MAAM,OAAO,CAAA,GAAA,6JAAA,CAAA,UAAO,AAAD;yCACjB,IAAO,iBAAiB,eAAe,WAAW,GAAG,OAAO,CAAC,QAAQ,OAAO;wCAC5E;QAAC;KAAe;IAGlB,MAAM,WAAW,CAAA,GAAA,6JAAA,CAAA,UAAO,AAAD;6CAAE;YACvB,IAAI,CAAC,UAAU,OAAO;YACtB,MAAM,IAAI,IAAI,KAAK;YACnB,MAAM,OAAO,EAAE,kBAAkB,CAAC,WAAW;gBAAE,KAAK;gBAAW,OAAO;YAAQ;YAC9E,MAAM,OAAO,EAAE,kBAAkB,CAAC,WAAW;gBAAE,MAAM;gBAAW,QAAQ;YAAU;YAClF,OAAO,GAAG,KAAK,EAAE,EAAE,MAAM;QAC3B;4CAAG;QAAC;KAAS;IAEb,MAAM,aAAa,CAAC;QAClB,MAAM,CAAC,MAAM,EAAE,MAAM,MAAM,CAAC;QAC5B;IACF;IAEA,MAAM,gBAAgB;QACpB,MAAM;IACR;IAEA,MAAM,eAAe;QACnB,IAAI,QAAQ,oCAAoC;YAC9C,MAAM;YACN;QACF;IACF;IAEA,MAAM,eAAe;QACnB,MAAM,CAAC,gBAAgB,EAAE,cAAc;QACvC,gBAAgB;QAChB;IACF;IAEA,qBACE,6LAAC;QAAI,WAAU;;0BAEb,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAI,WAAU;kCACb,cAAA,6LAAC,gIAAA,CAAA,UAAK;4BACJ,KAAK;4BACL,KAAK,kBAAkB;4BACvB,OAAO;4BACP,QAAQ;4BACR,WAAU;;;;;;;;;;;kCAId,6LAAC;wBAAI,WAAU;kCACb,cAAA,6LAAC;4BAAI,WAAU;;8CACb,6LAAC;;sDACC,6LAAC;4CAAE,WAAU;sDACV,kBAAkB;;;;;;sDAErB,6LAAC;4CAAE,WAAU;sDAAiC;;;;;;wCAC7C,sBACC,6LAAC,+JAAA,CAAA,UAAI;4CAAC,MAAM,CAAC,YAAY,EAAE,MAAM;4CAAE,WAAU;sDAAmC;;;;;;;;;;;;8CAMpF,6LAAC;oCAAI,WAAU;;sDACb,6LAAC;4CACC,cAAW;4CACX,SAAS,IAAM,YAAY,CAAC,IAAM,CAAC;4CACnC,WAAU;sDAEV,cAAA,6LAAC,6NAAA,CAAA,eAAY;;;;;;;;;;wCAGd,0BACC,6LAAC;4CACC,WAAU;4CACV,cAAc,IAAM,YAAY;;8DAEhC,6LAAC;oDACC,WAAU;oDACV,SAAS,IAAM,MAAM;8DACtB;;;;;;8DAGD,6LAAC;oDACC,WAAU;oDACV,SAAS;8DACV;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;YAWZ,yBAAW,6LAAC;gBAAI,WAAU;0BAAkC;;;;;;0BAG7D,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;;4BACE,0BAAY,6LAAC;;oCAAI;oCAAiB;;;;;;;4BAClC,wBAAU,6LAAC;gCAAI,WAAU;0CAAiB;;;;;;;;;;;;kCAE7C,6LAAC;wBAAI,WAAU;;4BAAgB;4BAAE,OAAO,UAAU,GAAG,OAAO,CAAC;;;;;;;;;;;;;0BAI/D,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAI,WAAU;kCACZ,OAAO,WAAW,YAAY,SAAS,kBACtC;;8CACE,6LAAC;oCAAI,WAAU;;wCAA4B;wCAC9B;wCAAO;;;;;;;8CAEpB,6LAAC;oCACC,WAAU;oCACV,SAAS,IAAM,gBAAgB;8CAChC;;;;;;;yDAKH,6LAAC;;8CACC,6LAAC,oJAAA,CAAA,UAAU;oCAAC,OAAO,UAAU;oCAAG,UAAU;;;;;;8CAC1C,6LAAC;oCACC,WAAU;oCACV,SAAS,IAAM,gBAAgB;8CAChC;;;;;;;;;;;;;;;;;kCAOP,6LAAC;wBACC,SAAS;wBACT,WAAU;kCACX;;;;;;;;;;;;YAMF,8BACC,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBACC,WAAU;wBACV,SAAS,IAAM,gBAAgB;;;;;;kCAEjC,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAG,WAAU;0CACX,WAAW,kBAAkB;;;;;;0CAEhC,6LAAC;gCACC,WAAU;gCACV,aAAY;gCACZ,OAAO;gCACP,UAAU,CAAC,IAAM,gBAAgB,EAAE,MAAM,CAAC,KAAK;;;;;;0CAEjD,6LAAC;gCAAI,WAAU;;kDACb,6LAAC;wCACC,WAAU;wCACV,SAAS,IAAM,gBAAgB;kDAChC;;;;;;kDAGD,6LAAC;wCACC,WAAU;wCACV,SAAS;kDACV;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AASf;GAtMwB;KAAA","debugId":null}}]
}