{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/surya/Desktop/customer/kazilen/frontend/src/app/restaurant/%5Bslug%5D/page.js"],"sourcesContent":["'use client'\r\n\r\nimport { useEffect, useState } from 'react'\r\nimport Image from 'next/image'\r\nimport Link from 'next/link'\r\nimport { useParams, useSearchParams } from 'next/navigation'\r\nimport { MapPin, ArrowLeft, Star } from 'lucide-react'\r\nimport { getProfessionalBySlug } from '@/lib/api'\r\n\r\nexport default function ProfessionalDetailPage() {\r\n  const { slug } = useParams()\r\n  const params = useSearchParams()\r\n\r\n  const [coords, setCoords] = useState(null)      // { lat, lng }\r\n  const [data, setData]   = useState(null)        // professional\r\n  const [loading, setLoading] = useState(true)\r\n  const [error, setError] = useState('')\r\n\r\n  // Prefer coords passed from list page via query (?lat=..&lng=..), else geolocate\r\n  useEffect(() => {\r\n    const qlat = params.get('lat')\r\n    const qlng = params.get('lng')\r\n    if (qlat && qlng) {\r\n      setCoords({ lat: Number(qlat), lng: Number(qlng) })\r\n      return\r\n    }\r\n    if (!navigator.geolocation) {\r\n      setCoords(null)\r\n      return\r\n    }\r\n    navigator.geolocation.getCurrentPosition(\r\n      p => setCoords({ lat: p.coords.latitude, lng: p.coords.longitude }),\r\n      () => setCoords(null)\r\n    )\r\n  }, [params])\r\n\r\n  useEffect(() => {\r\n    const run = async () => {\r\n      try {\r\n        setLoading(true)\r\n        const res = await getProfessionalBySlug(slug, coords?.lat, coords?.lng)\r\n        setData(res)\r\n      } catch (e) {\r\n        setError(e.message || 'Failed to load')\r\n      } finally {\r\n        setLoading(false)\r\n      }\r\n    }\r\n    run()\r\n  }, [slug, coords?.lat, coords?.lng])\r\n\r\n  if (loading) return <div className=\"p-4\">Loading…</div>\r\n  if (error)   return <div className=\"p-4 text-red-600\">{error}</div>\r\n  if (!data)   return <div className=\"p-4\">Not found</div>\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-white\">\r\n      {/* Top bar */}\r\n      <div className=\"flex items-center gap-3 p-4 shadow-sm border-b sticky top-0 z-40 bg-white\">\r\n        <Link href=\"/\" className=\"text-gray-700\">\r\n          <ArrowLeft size={22} />\r\n        </Link>\r\n        <h1 className=\"text-lg font-semibold text-gray-800\">{data.name}</h1>\r\n      </div>\r\n\r\n      {/* Hero image */}\r\n      {data.imageUrl && (\r\n        <div className=\"relative w-full h-48\">\r\n          <Image\r\n            src={data.imageUrl}\r\n            alt={data.name}\r\n            fill\r\n            className=\"object-cover\"\r\n            sizes=\"100vw\"\r\n          />\r\n        </div>\r\n      )}\r\n\r\n      {/* Body */}\r\n      <div className=\"p-4\">\r\n        <div className=\"flex items-center gap-2 text-sm text-gray-600\">\r\n          <MapPin size={16} />\r\n          <span>{data.categoryName}</span>\r\n          {typeof data.distanceKm === 'number' && (\r\n            <span>• {data.distanceKm.toFixed(1)} km away</span>\r\n          )}\r\n          {data.rating && (\r\n            <span className=\"flex items-center gap-1\">\r\n              • <Star size={14} className=\"inline-block\" /> {Number(data.rating).toFixed(1)}\r\n            </span>\r\n          )}\r\n        </div>\r\n\r\n        <h2 className=\"mt-4 text-base font-semibold\">About</h2>\r\n        <p className=\"text-sm text-gray-700 mt-1\">\r\n          {data.description || 'No description provided.'}\r\n        </p>\r\n\r\n        {/* Example actions */}\r\n        <div className=\"mt-6 grid grid-cols-2 gap-3\">\r\n          <a href={`tel:${data.phone || ''}`}\r\n             className=\"text-center py-3 rounded-xl border font-semibold\">\r\n            Call\r\n          </a>\r\n          <a href={`https://maps.google.com/?q=${data.latitude},${data.longitude}`}\r\n             target=\"_blank\" rel=\"noreferrer\"\r\n             className=\"text-center py-3 rounded-xl bg-yellow-400 hover:bg-yellow-500 font-semibold\">\r\n            Directions\r\n          </a>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}